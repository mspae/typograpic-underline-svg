!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,t.TypographicUnderline=e()}}(function(){var e;return function t(e,n,r){function o(u,c){if(!n[u]){if(!e[u]){var a="function"==typeof require&&require;if(!c&&a)return a(u,!0);if(i)return i(u,!0);var s=new Error("Cannot find module '"+u+"'");throw s.code="MODULE_NOT_FOUND",s}var l=n[u]={exports:{}};e[u][0].call(l.exports,function(t){var n=e[u][1][t];return o(n?n:t)},l,l.exports,t,e,n,r)}return n[u].exports}for(var i="function"==typeof require&&require,u=0;u<r.length;u++)o(r[u]);return o}({1:[function(e,t,n){var r=e("date-now");t.exports=function(e,t,n){function o(){var l=r()-a;t>l&&l>0?i=setTimeout(o,t-l):(i=null,n||(s=e.apply(c,u),i||(c=u=null)))}var i,u,c,a,s;return null==t&&(t=100),function(){c=this,u=arguments,a=r();var l=n&&!i;return i||(i=setTimeout(o,t)),l&&(s=e.apply(c,u),c=u=null),s}}},{"date-now":2}],2:[function(e,t,n){function r(){return(new Date).getTime()}t.exports=Date.now||r},{}],3:[function(t,n,r){!function(t,r,o){"use strict";"undefined"!=typeof n&&n.exports?n.exports=o(r,t):"function"==typeof e&&e.amd?e(function(){return o(r,t)}):t[r]=o(r,t)}(window,"detectZoom",function(){var e=function(){return window.devicePixelRatio||1},t=function(){return{zoom:1,devicePxPerCssPx:1}},n=function(){var t=Math.round(screen.deviceXDPI/screen.logicalXDPI*100)/100;return{zoom:t,devicePxPerCssPx:t*e()}},r=function(){var t=Math.round(document.documentElement.offsetHeight/window.innerHeight*100)/100;return{zoom:t,devicePxPerCssPx:t*e()}},o=function(){var t=90==Math.abs(window.orientation)?screen.height:screen.width,n=t/window.innerWidth;return{zoom:n,devicePxPerCssPx:n*e()}},i=function(){var t=function(e){return e.replace(/;/g," !important;")},n=document.createElement("div");n.innerHTML="1<br>2<br>3<br>4<br>5<br>6<br>7<br>8<br>9<br>0",n.setAttribute("style",t("font: 100px/1em sans-serif; -webkit-text-size-adjust: none; height: auto; width: 1em; padding: 0; overflow: visible;"));var r=document.createElement("div");r.setAttribute("style",t("width:0; height:0; overflow:hidden; visibility:hidden; position: absolute;")),r.appendChild(n),document.body.appendChild(r);var o=1e3/n.clientHeight;return o=Math.round(100*o)/100,document.body.removeChild(r),{zoom:o,devicePxPerCssPx:o*e()}},u=function(){var e=s("min--moz-device-pixel-ratio","",0,10,20,1e-4);return e=Math.round(100*e)/100,{zoom:e,devicePxPerCssPx:e}},c=function(){return{zoom:u().zoom,devicePxPerCssPx:e()}},a=function(){var t=window.top.outerWidth/window.top.innerWidth;return t=Math.round(100*t)/100,{zoom:t,devicePxPerCssPx:t*e()}},s=function(e,t,n,r,o,i){function u(n,r,o){var a=(n+r)/2;if(0>=o||i>r-n)return a;var s="("+e+":"+a+t+")";return c(s).matches?u(a,r,o-1):u(n,a,o-1)}var c,a,s,l;window.matchMedia?c=window.matchMedia:(a=document.getElementsByTagName("head")[0],s=document.createElement("style"),a.appendChild(s),l=document.createElement("div"),l.className="mediaQueryBinarySearch",l.style.display="none",document.body.appendChild(l),c=function(e){s.sheet.insertRule("@media "+e+"{.mediaQueryBinarySearch {text-decoration: underline} }",0);var t="underline"==getComputedStyle(l,null).textDecoration;return s.sheet.deleteRule(0),{matches:t}});var d=u(n,r,o);return l&&(a.removeChild(s),document.body.removeChild(l)),d},l=function(){var e=t;return isNaN(screen.logicalXDPI)||isNaN(screen.systemXDPI)?window.navigator.msMaxTouchPoints?e=r:"ontouchstart"in window&&"string"==typeof document.body.style.webkitTextSizeAdjust?e=o:"string"==typeof document.body.style.webkitTextSizeAdjust?e=i:navigator.userAgent.indexOf("Opera")>=0?e=a:window.devicePixelRatio?e=c:u().zoom>.001&&(e=u):e=n,e}();return{zoom:function(){return l().zoom},device:function(){return l().devicePxPerCssPx}}})},{}],4:[function(t,n,r){!function(e){e(function(e,t,n){function r(e){var t,n,r,o,i=document.createElement("div"),u=document.createElement("style"),c=document.createElement("span");return e=e||document.body,c.innerText="T",u.innerText=".font-baseline{visibility:hidden;height:100px;}.font-baseline span:after{content:'';height:100%;display:inline-block;}",i.appendChild(c),i.appendChild(u),i.classList.add("font-baseline"),e.appendChild(i),t=window.getComputedStyle(c),o=parseInt(t.fontSize,10),lineHeight=parseInt(t.lineHeight,10),c.style.lineHeight=0,r=c.offsetHeight,n=c.offsetTop+r-i.offsetHeight-i.offsetTop,lineHeight=lineHeight||r,i.parentNode.removeChild(i),{baseline:n,content:r,font:o,line:lineHeight,multiplier:o/r,offset:(lineHeight-r)/2+n}}n.exports=r})}("function"==typeof e&&e.amd?e:function(e,o){"use strict";return"object"==typeof n?function(e){e(t,r,n)}:function(t){var n={exports:{}};t(function(e){return o[e]},n.exports,n),o[e]=n.exports}}("font-baseline",this))},{}],5:[function(e,t,n){function r(e,t){return e="number"==typeof e||b.test(e)?+e:-1,t=null==t?y:t,e>-1&&e%1==0&&t>e}function o(e,t,n){var r=e[t];(!l(r,n)||l(r,x[t])&&!C.call(e,t)||void 0===n&&!(t in e))&&(e[t]=n)}function i(e){return function(t){return null==t?void 0:t[e]}}function u(e,t,n){return c(e,t,n)}function c(e,t,n,r){n||(n={});for(var i=-1,u=t.length;++i<u;){var c=t[i],a=r?r(n[c],e[c],c,n,e):e[c];o(n,c,a)}return n}function a(e){return m(function(t,n){var r=-1,o=n.length,i=o>1?n[o-1]:void 0,u=o>2?n[2]:void 0;for(i="function"==typeof i?(o--,i):void 0,u&&s(n[0],n[1],u)&&(i=3>o?void 0:i,o=1),t=Object(t);++r<o;){var c=n[r];c&&e(t,c,r,i)}return t})}function s(e,t,n){if(!h(n))return!1;var o=typeof t;return("number"==o?d(n)&&r(t,n.length):"string"==o&&t in n)?l(n[t],e):!1}function l(e,t){return e===t||e!==e&&t!==t}function d(e){return null!=e&&!("function"==typeof e&&f(e))&&p(j(e))}function f(e){var t=h(e)?P.call(e):"";return t==g||t==w}function p(e){return"number"==typeof e&&e>-1&&e%1==0&&y>=e}function h(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}var v=e("lodash.keys"),m=e("lodash.rest"),y=9007199254740991,g="[object Function]",w="[object GeneratorFunction]",b=/^(?:0|[1-9]\d*)$/,x=Object.prototype,C=x.hasOwnProperty,P=x.toString,j=i("length"),k=a(function(e,t){u(t,v(t),e)});t.exports=k},{"lodash.keys":6,"lodash.rest":7}],6:[function(e,t,n){function r(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}function o(e,t){return e="number"==typeof e||j.test(e)?+e:-1,t=null==t?w:t,e>-1&&e%1==0&&t>e}function i(e,t){return z.call(e,t)||"object"==typeof e&&t in e&&null===S(e)}function u(e){return A(Object(e))}function c(e){return function(t){return null==t?void 0:t[e]}}function a(e){var t=e?e.length:void 0;return h(t)&&(M(e)||y(e)||l(e))?r(t,String):null}function s(e){var t=e&&e.constructor,n="function"==typeof t&&t.prototype||k;return e===n}function l(e){return f(e)&&z.call(e,"callee")&&(!T.call(e,"callee")||E.call(e)==b)}function d(e){return null!=e&&!("function"==typeof e&&p(e))&&h(N(e))}function f(e){return m(e)&&d(e)}function p(e){var t=v(e)?E.call(e):"";return t==x||t==C}function h(e){return"number"==typeof e&&e>-1&&e%1==0&&w>=e}function v(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function m(e){return!!e&&"object"==typeof e}function y(e){return"string"==typeof e||!M(e)&&m(e)&&E.call(e)==P}function g(e){var t=s(e);if(!t&&!d(e))return u(e);var n=a(e),r=!!n,c=n||[],l=c.length;for(var f in e)!i(e,f)||r&&("length"==f||o(f,l))||t&&"constructor"==f||c.push(f);return c}var w=9007199254740991,b="[object Arguments]",x="[object Function]",C="[object GeneratorFunction]",P="[object String]",j=/^(?:0|[1-9]\d*)$/,k=Object.prototype,z=k.hasOwnProperty,E=k.toString,S=Object.getPrototypeOf,T=k.propertyIsEnumerable,A=Object.keys,N=c("length"),M=Array.isArray;t.exports=g},{}],7:[function(e,t,n){function r(e,t,n){var r=n.length;switch(r){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function o(e,t){if("function"!=typeof e)throw new TypeError(s);return t=C(void 0===t?e.length-1:c(t),0),function(){for(var n=arguments,o=-1,i=C(n.length-t,0),u=Array(i);++o<i;)u[o]=n[t+o];switch(t){case 0:return e.call(this,u);case 1:return e.call(this,n[0],u);case 2:return e.call(this,n[0],n[1],u)}var c=Array(t+1);for(o=-1;++o<t;)c[o]=n[o];return c[t]=u,r(e,this,c)}}function i(e){var t=u(e)?x.call(e):"";return t==p||t==h}function u(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function c(e){if(!e)return 0===e?e:0;if(e=a(e),e===l||e===-l){var t=0>e?-1:1;return t*d}var n=e%1;return e===e?n?e-n:e:0}function a(e){if(u(e)){var t=i(e.valueOf)?e.valueOf():e;e=u(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(v,"");var n=y.test(e);return n||g.test(e)?w(e.slice(2),n?2:8):m.test(e)?f:+e}var s="Expected a function",l=1/0,d=1.7976931348623157e308,f=NaN,p="[object Function]",h="[object GeneratorFunction]",v=/^\s+|\s+$/g,m=/^[-+]0x[0-9a-f]+$/i,y=/^0b[01]+$/i,g=/^0o[0-7]+$/i,w=parseInt,b=Object.prototype,x=b.toString,C=Math.max;t.exports=o},{}],8:[function(e,t,n){(function(e){var n;if(e.crypto&&crypto.getRandomValues){var r=new Uint8Array(16);n=function(){return crypto.getRandomValues(r),r}}if(!n){var o=new Array(16);n=function(){for(var e,t=0;16>t;t++)0===(3&t)&&(e=4294967296*Math.random()),o[t]=e>>>((3&t)<<3)&255;return o}}t.exports=n}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],9:[function(e,t,n){function r(e,t,n){var r=t&&n||0,o=0;for(t=t||[],e.toLowerCase().replace(/[0-9a-f]{2}/g,function(e){16>o&&(t[r+o++]=s[e])});16>o;)t[r+o++]=0;return t}function o(e,t){var n=t||0,r=a;return r[e[n++]]+r[e[n++]]+r[e[n++]]+r[e[n++]]+"-"+r[e[n++]]+r[e[n++]]+"-"+r[e[n++]]+r[e[n++]]+"-"+r[e[n++]]+r[e[n++]]+"-"+r[e[n++]]+r[e[n++]]+r[e[n++]]+r[e[n++]]+r[e[n++]]+r[e[n++]]}function i(e,t,n){var r=t&&n||0,i=t||[];e=e||{};var u=void 0!==e.clockseq?e.clockseq:p,c=void 0!==e.msecs?e.msecs:(new Date).getTime(),a=void 0!==e.nsecs?e.nsecs:v+1,s=c-h+(a-v)/1e4;if(0>s&&void 0===e.clockseq&&(u=u+1&16383),(0>s||c>h)&&void 0===e.nsecs&&(a=0),a>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");h=c,v=a,p=u,c+=122192928e5;var l=(1e4*(268435455&c)+a)%4294967296;i[r++]=l>>>24&255,i[r++]=l>>>16&255,i[r++]=l>>>8&255,i[r++]=255&l;var d=c/4294967296*1e4&268435455;i[r++]=d>>>8&255,i[r++]=255&d,i[r++]=d>>>24&15|16,i[r++]=d>>>16&255,i[r++]=u>>>8|128,i[r++]=255&u;for(var m=e.node||f,y=0;6>y;y++)i[r+y]=m[y];return t?t:o(i)}function u(e,t,n){var r=t&&n||0;"string"==typeof e&&(t="binary"==e?new Array(16):null,e=null),e=e||{};var i=e.random||(e.rng||c)();if(i[6]=15&i[6]|64,i[8]=63&i[8]|128,t)for(var u=0;16>u;u++)t[r+u]=i[u];return t||o(i)}for(var c=e("./rng"),a=[],s={},l=0;256>l;l++)a[l]=(l+256).toString(16).substr(1),s[a[l]]=l;var d=c(),f=[1|d[0],d[1],d[2],d[3],d[4],d[5]],p=16383&(d[6]<<8|d[7]),h=0,v=0,m=u;m.v1=i,m.v4=u,m.parse=r,m.unparse=o,t.exports=m},{"./rng":8}],10:[function(e,t,n){"use strict";function r(e,t){var n=this;e||console.error("No element parameter defined");var r="string"==typeof e?document.querySelectorAll(e):e;r.length||console.error("No element found",e),this.options=o({},{strokeStyle:"auto",position:"auto",masking:"auto",strokeWidth:"auto",container:t&&t.container?"string"==typeof t.container?document.querySelectorAll(t.container):t.container:function(){var e=document.createElement("div");return e.className="underlines-container",document.body.appendChild(e),e}()},t),this.underlines=[],Array.from(r).map(function(e){n.underlines.push(new u(e,n.options))}),window.addEventListener("resize",i(this.resize.bind(this),10))}var o=e("lodash.assign"),i=e("debounce"),u=(e("uuid"),e("./underline"));r.prototype.resize=function(){this.underlines.map(function(e){return e.resize()})},r.prototype.update=function(){this.underlines.map(function(e){return e.update()})},r.prototype.destroy=function(){this.underlines.map(function(e){return e.destroy()})},t.exports=r},{"./underline":12,debounce:1,"lodash.assign":5,uuid:9}],11:[function(e,t,n){"use strict";function r(e,t,n,r){var o=document.createElementNS("http://www.w3.org/2000/svg","svg"),i=(e.height,2),u=e.text.map(function(e){return e.textContent}).join(" ");console.log(e);var c='\n    <defs>\n    <mask id="mask-'+r+'"  maskContentUnits="objectBoundingBox">\n      <text\n        width="'+e.width+'"\n        textLength="'+e.width+'"\n        style="stroke-width: '+i+";stroke: #000000;fill: #000000;font-weight: "+n.fontWeight+";font-family: "+n.fontFamily+";letter-spacing: "+n.letterSpacing+";word-spacing: "+n.wordSpacing+";font-style: "+n.fontStyle+";font-size: "+n.fontSize+';">\n        '+u+"\n      </text>\n    </mask>\n    </defs>\n    ";o.setAttribute("class","svg-underline"),o.setAttribute("width",e.width),o.setAttribute("height",100),o.innerHTML=c,o.id=r,t.container.appendChild(o)}function o(e,t,n){var r=e.text[0].parentNode,o=document.createElement("span");o.innerHTML=e.text.map(function(e){return e.textContent}).join(" ");var i=document.createElement("div");i.className="underline-element",i.setAttribute("style","-webkit-mask: url(#mask-"+n+"); mask: url(#mask-"+n+");"),o.appendChild(i),e.text.map(function(e){return r.removeChild(e)}),r.appendChild(o)}function i(e,t,n){var i=u.v4();return this.mask=r(e,t,n,i),this.underlined=o(e,t,i),this}var u=e("uuid");t.exports=i},{uuid:9}],12:[function(e,t,n){"use strict";function r(e){var t=e.split(/\s/).filter(Boolean),n=[];return t.map(function(e){var t=document.createElement("span"),r=document.createTextNode(""+e);t.appendChild(r),n.push(t)}),n}function o(e){var t=[],n=(e[0].getBoundingClientRect().top,e[0].getBoundingClientRect().left),r=[];return e.forEach(function(o,i){var u=o.getBoundingClientRect().top,c=o.getBoundingClientRect().right,a=e[i+1];r.push(o),(!a||u<a.getBoundingClientRect().top)&&(t.push({begin:n,width:c-n,height:o.getBoundingClientRect().height,text:r,container:o.parentNode}),a&&(n=a.getBoundingClientRect().left,r=[]))}),t}function i(e,t){this.el=e,this.options=t,this.lines=[],this.style=window.getComputedStyle(e),this.update()}var u=e("./line");e("font-baseline"),e("detect-zoom");i.prototype.update=function(){var e=this,t=this.el.textContent,n=r(t);this.el.innerHTML="",n.map(function(t){e.el.appendChild(t),e.el.appendChild(document.createTextNode(" "))}),this.lines=o(n).map(function(t){return new u(t,e.options,e.style)})},t.exports=i},{"./line":11,"detect-zoom":3,"font-baseline":4}]},{},[10])(10)});
//# sourceMappingURL=index.js.map
